{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\avikef\\\\Desktop\\\\New folder (12)\\\\tauoverflow-client\\\\src\\\\pages\\\\home-page\\\\HomePage.js\",\n    _s = $RefreshSig$();\n\nimport DropDownList from \"../../general-components/DropDownList\";\nimport Button from \"../../general-components/Button\";\nimport { Link } from \"react-router-dom\";\nimport { getAllFaculties } from '../../API/facultyApi';\nimport { getAllDepartments } from '../../API/departmentApi';\nimport { getAllCourses } from '../../API/courseApi';\nimport { getAllUserCourses } from \"../../API/usersApi\";\nimport { getAllCoursesInDepartments } from '../../API/departmentApi';\nimport { useEffect, useState } from \"react\";\nimport { useAuth0 } from '@auth0/auth0-react';\nimport H3 from \"../../general-components/H3\";\nimport H1 from \"../../general-components/H1\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst HomePage = () => {\n  _s();\n\n  const {\n    user\n  } = useAuth0();\n  const colors = ['yellow', 'pink', 'gray', 'red', 'blue', 'green', 'indigo']; // check if ddl is changed\n\n  const [isDDL1changed, setIsDDL1changed] = useState(null);\n  const [isDDL2changed, setIsDDL2changed] = useState(null);\n  const [isDDL3changed, setIsDDL3changed] = useState(null); // lists of all sections in the university\n\n  const [faculties, setFaculties] = useState([]);\n  const [deparments, setDepartments] = useState([]);\n  const [courses, setCourses] = useState([]);\n  const [coursesInDepartments, setCoursesInDepartments] = useState([]);\n  const [userCourses, setUserCourses] = useState([]);\n  useEffect(() => {\n    (async () => {\n      try {\n        const facList = getAllFaculties();\n        const dptList = getAllDepartments();\n        const crsList = getAllCourses();\n        const cidList = getAllCoursesInDepartments();\n        const ucList = getAllUserCourses();\n        Promise.all([facList, dptList, crsList, cidList, ucList]).then(values => {\n          setFaculties(values[0].data.data.allFaculties.nodes);\n          setDepartments(values[1].data.data.allDepartments.nodes);\n          setCourses(values[2].data.data.allCourses.nodes);\n          setCoursesInDepartments(values[3].data.data.allCoursesInDepartments.nodes);\n          setUserCourses(values[4].data.data.allUserCourses.nodes);\n        });\n      } catch (error) {\n        console.log(error);\n      }\n    })();\n  }, []);\n  useEffect(() => {\n    setIsDDL2changed(null);\n    setIsDDL3changed(null);\n  }, [isDDL1changed]);\n  useEffect(() => {\n    setIsDDL3changed(null);\n  }, [isDDL2changed]);\n\n  const createList = (value, type) => {\n    let list = [];\n\n    switch (type) {\n      case 'faculty':\n        value.forEach(item => list.push({\n          id: item.id,\n          name: item.hebrewName\n        }));\n        break;\n\n      case 'department':\n        value.forEach(item => {\n          if (item.facultyId.toString() === isDDL1changed) list.push({\n            id: item.id,\n            name: item.hebrewName\n          });\n        });\n        break;\n\n      case 'course':\n        // check which courses are in this specific department\n        let coursesList = [];\n        coursesInDepartments.forEach(item => {\n          if (item.departmentId.toString() === isDDL2changed) coursesList.push(item.courseId);\n        }); // filter all the courses and keep only the ones that match\n\n        value.forEach(item => {\n          if (coursesList.includes(item.id)) list.push({\n            id: item.id,\n            name: item.name\n          });\n        });\n        break;\n\n      case 'userCourse':\n        userCourses.forEach(course => {\n          if (course.uid === user.sub.split(\"|\")[1]) list.push(course);\n        });\n\n      default:\n        break;\n    }\n\n    return list;\n  };\n\n  const renderUserCourses = () => {\n    return createList(userCourses, 'userCourse').map((item, index) => courses.map(course => {\n      if (item.cid === course.id) {\n        return /*#__PURE__*/_jsxDEV(Link, {\n          to: `course=${course.id}`,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `transition break-word h-full flex items-center justify-center duration-150 ease-in-out shadow p-3 m-1 rounded-xl bg-${colors[index % colors.length]}-100 cursor-pointer w-36 `,\n            children: /*#__PURE__*/_jsxDEV(\"h1\", {\n              children: course.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 25\n          }, this)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 28\n        }, this);\n      }\n    }));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    dir: \"rtl\",\n    className: \"my-10 flex flex-col items-center justify-center\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col max-w-7xl justify-center items-center p-5 shadow rounded-lg dark:bg-gray-900 bg-indigo-50\",\n      children: [/*#__PURE__*/_jsxDEV(H1, {\n        text: 'חפש את הקורס שלך'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mx-6 mt-8 flex flex-col md:flex-row\",\n        children: [/*#__PURE__*/_jsxDEV(DropDownList, {\n          text: 'פקולטה',\n          list: createList(faculties, 'faculty'),\n          object: isDDL1changed,\n          setObject: setIsDDL1changed\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(DropDownList, {\n          text: 'חוג',\n          list: createList(deparments, 'department'),\n          object: isDDL2changed,\n          setObject: setIsDDL2changed\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(DropDownList, {\n          text: 'קורס',\n          list: createList(courses, 'course'),\n          object: isDDL3changed,\n          setObject: setIsDDL3changed\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: isDDL3changed ? '/course=' + isDDL3changed : '#',\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mx-6\",\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            text: 'חפש'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }, this), user && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"my-8 w-screen max-w-7xl flex flex-col text-center\",\n      children: [createList(userCourses, 'userCourse').length > 0 && /*#__PURE__*/_jsxDEV(H3, {\n        text: 'אפשר גם לקצר קצת את הדרך...'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 70\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mx-10 pb-6 rounded-xl flex flex-wrap justify-center items-center md:items-stretch md:flex-nowrap md:justify-start md:overflow-x-auto p-4 scrollbar scrollbar-thumb-rounded-full scrollbar-track-rounded-full scrollbar-track-gray-200 scrollbar-thumb-gray-400 dark:scrollbar-track-gray-800 dark:scrollbar-thumb-gray-600\",\n        children: renderUserCourses()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 22\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 111,\n    columnNumber: 9\n  }, this);\n};\n\n_s(HomePage, \"xl06rRBsk9vduv8iBaGc0uQ+u/8=\", false, function () {\n  return [useAuth0];\n});\n\n_c = HomePage;\nexport default HomePage;\n\nvar _c;\n\n$RefreshReg$(_c, \"HomePage\");","map":{"version":3,"sources":["C:/Users/avikef/Desktop/New folder (12)/tauoverflow-client/src/pages/home-page/HomePage.js"],"names":["DropDownList","Button","Link","getAllFaculties","getAllDepartments","getAllCourses","getAllUserCourses","getAllCoursesInDepartments","useEffect","useState","useAuth0","H3","H1","HomePage","user","colors","isDDL1changed","setIsDDL1changed","isDDL2changed","setIsDDL2changed","isDDL3changed","setIsDDL3changed","faculties","setFaculties","deparments","setDepartments","courses","setCourses","coursesInDepartments","setCoursesInDepartments","userCourses","setUserCourses","facList","dptList","crsList","cidList","ucList","Promise","all","then","values","data","allFaculties","nodes","allDepartments","allCourses","allCoursesInDepartments","allUserCourses","error","console","log","createList","value","type","list","forEach","item","push","id","name","hebrewName","facultyId","toString","coursesList","departmentId","courseId","includes","course","uid","sub","split","renderUserCourses","map","index","cid","length"],"mappings":"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","sourcesContent":["import DropDownList from \"../../general-components/DropDownList\"\nimport Button from \"../../general-components/Button\"\nimport { Link } from \"react-router-dom\"\nimport { getAllFaculties } from '../../API/facultyApi'\nimport { getAllDepartments } from '../../API/departmentApi'\nimport { getAllCourses } from '../../API/courseApi'\nimport { getAllUserCourses } from \"../../API/usersApi\"\nimport { getAllCoursesInDepartments } from '../../API/departmentApi'\nimport { useEffect, useState } from \"react\"\nimport { useAuth0 } from '@auth0/auth0-react';\nimport H3 from \"../../general-components/H3\";\nimport H1 from \"../../general-components/H1\";\n\n\nconst HomePage = () => {\n\n    const { user } = useAuth0();\n    const colors = ['yellow', 'pink', 'gray', 'red', 'blue', 'green', 'indigo']\n\n    // check if ddl is changed\n    const [isDDL1changed, setIsDDL1changed] = useState(null);\n    const [isDDL2changed, setIsDDL2changed] = useState(null);\n    const [isDDL3changed, setIsDDL3changed] = useState(null);\n\n    // lists of all sections in the university\n    const [faculties, setFaculties] = useState([]);\n    const [deparments, setDepartments] = useState([]);\n    const [courses, setCourses] = useState([]);\n    const [coursesInDepartments, setCoursesInDepartments] = useState([]);\n    const [userCourses, setUserCourses] = useState([]);\n\n    useEffect(() => {\n        (async () => {\n            try {\n                const facList = getAllFaculties();\n                const dptList = getAllDepartments();\n                const crsList = getAllCourses();\n                const cidList = getAllCoursesInDepartments();\n                const ucList = getAllUserCourses();\n                Promise.all([facList, dptList, crsList, cidList, ucList]).then(values => {\n                    setFaculties(values[0].data.data.allFaculties.nodes);\n                    setDepartments(values[1].data.data.allDepartments.nodes);\n                    setCourses(values[2].data.data.allCourses.nodes);\n                    setCoursesInDepartments(values[3].data.data.allCoursesInDepartments.nodes);\n                    setUserCourses(values[4].data.data.allUserCourses.nodes);\n                })\n            }\n            catch (error) {\n                console.log(error);\n            }\n        })()\n    }, [])\n\n    useEffect(() => {\n        setIsDDL2changed(null);\n        setIsDDL3changed(null);\n    }, [isDDL1changed])\n\n    useEffect(() => {\n        setIsDDL3changed(null);\n    }, [isDDL2changed])\n\n    const createList = (value, type) => {\n        let list = [];\n        switch (type) {\n            case 'faculty':\n                value.forEach(item => list.push({ id: item.id, name: item.hebrewName }))\n                break;\n            case 'department':\n                value.forEach(item => {\n                    if (item.facultyId.toString() === isDDL1changed) list.push({ id: item.id, name: item.hebrewName })\n                })\n                break;\n            case 'course':\n                // check which courses are in this specific department\n                let coursesList = [];\n                coursesInDepartments.forEach(item => {\n                    if (item.departmentId.toString() === isDDL2changed) coursesList.push(item.courseId);\n                });\n                // filter all the courses and keep only the ones that match\n                value.forEach(item => {\n                    if (coursesList.includes(item.id)) list.push({ id: item.id, name: item.name });\n                });\n                break;\n            case 'userCourse':\n                userCourses.forEach(course => {\n                    if (course.uid === user.sub.split(\"|\")[1])\n                        list.push(course);\n                });\n            default:\n                break;\n        }\n        return list;\n    }\n\n    const renderUserCourses = () => {\n        return createList(userCourses, 'userCourse').map((item, index) =>\n            courses.map(course => {\n                if (item.cid === course.id) {\n                    return <Link key={index} to={`course=${course.id}`}>\n                        <div className={`transition break-word h-full flex items-center justify-center duration-150 ease-in-out shadow p-3 m-1 rounded-xl bg-${colors[index % colors.length]}-100 cursor-pointer w-36 `}>\n                            <h1>{course.name}</h1>\n                        </div>\n                    </Link>\n                }\n            })\n        )\n    }\n\n    return (\n        <div dir='rtl' className=\"my-10 flex flex-col items-center justify-center\">\n            <div className=\"flex flex-col max-w-7xl justify-center items-center p-5 shadow rounded-lg dark:bg-gray-900 bg-indigo-50\">\n                <H1 text={'חפש את הקורס שלך'}/>\n                <div className=\"mx-6 mt-8 flex flex-col md:flex-row\">\n                    <DropDownList text={'פקולטה'} list={createList(faculties, 'faculty')} object={isDDL1changed} setObject={setIsDDL1changed} />\n                    <DropDownList text={'חוג'} list={createList(deparments, 'department')} object={isDDL2changed} setObject={setIsDDL2changed} />\n                    <DropDownList text={'קורס'} list={createList(courses, 'course')} object={isDDL3changed} setObject={setIsDDL3changed} />\n                </div>\n                <Link to={isDDL3changed ? '/course=' + isDDL3changed : '#'}>\n                    <div className=\"mx-6\">\n                        <Button text={'חפש'} />\n                    </div>\n                </Link>\n            </div>\n            {user && <div className=\"my-8 w-screen max-w-7xl flex flex-col text-center\">\n                {createList(userCourses, 'userCourse').length > 0 && <H3 text={'אפשר גם לקצר קצת את הדרך...'} />}\n                <div className=\"mx-10 pb-6 rounded-xl flex flex-wrap justify-center items-center md:items-stretch md:flex-nowrap md:justify-start md:overflow-x-auto p-4 scrollbar scrollbar-thumb-rounded-full scrollbar-track-rounded-full scrollbar-track-gray-200 scrollbar-thumb-gray-400 dark:scrollbar-track-gray-800 dark:scrollbar-thumb-gray-600\">\n                    {renderUserCourses()}\n                </div>\n            </div>}\n        </div>\n    )\n}\nexport default HomePage"]},"metadata":{},"sourceType":"module"}