{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\avikef\\\\Desktop\\\\New folder (12)\\\\tauoverflow-client\\\\src\\\\components\\\\discussions\\\\Comments.js\",\n    _s = $RefreshSig$();\n\nimport { ThumbUpIcon } from '@heroicons/react/outline';\nimport { useEffect, useRef, useState } from \"react\";\nimport { getAllUsers } from '../../API/usersApi';\nimport { CSSTransition } from 'react-transition-group';\nimport { Container, Alert } from 'react-bootstrap';\nimport ReactTooltip from 'react-tooltip';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Comments = _ref => {\n  _s();\n\n  let {\n    isImageDisplayed,\n    setIsImageDisplayed,\n    comments,\n    onScreenClick\n  } = _ref;\n  const elementRef = useRef(null);\n  const [users, setUsers] = useState([]);\n  useEffect(() => {\n    (async () => {\n      try {\n        const response = await getAllUsers();\n        setUsers(response.data.data.allUsers.nodes);\n      } catch (error) {\n        console.log(error);\n      }\n    })();\n  }, []);\n  useEffect(() => {\n    elementRef.current.scrollIntoView({\n      behavior: \"smooth\",\n      block: \"nearest\",\n      inline: \"start\"\n    });\n  }, [comments]);\n\n  const checkUserName = id => {\n    let a_user;\n    users.forEach(user => {\n      if (user.id === id) a_user = user;\n    });\n    return `${a_user.firstname}_${a_user.lastname}`;\n  };\n\n  const renderReplies = comments => {\n    if (comments.length === 0) return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"shadow-md bg-gray-50 dark:bg-gray-700 mx-1 px-3 py-2 rounded-xl my-3\",\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"h-12 flex flex-col items-center justify-center\",\n        children: \"\\u05D0\\u05D9\\u05DF \\u05EA\\u05D2\\u05D5\\u05D1\\u05D5\\u05EA \\u05E2\\u05D3\\u05D9\\u05D9\\u05DF. \\u05D0\\u05D5\\u05DC\\u05D9 \\u05EA\\u05E9\\u05E7\\u05D5\\u05DC \\u05DC\\u05D4\\u05D9\\u05D5\\u05EA \\u05D4\\u05E8\\u05D0\\u05E9\\u05D5\\u05DF?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 17\n    }, this);\n    return comments.map((comment, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col justify-center shadow bg-gray-50 dark:bg-gray-700 mx-1 px-3 py-2 rounded-xl my-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mb-4 break-words\",\n          children: comment.body\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 21\n        }, this), comment.attachment && /*#__PURE__*/_jsxDEV(\"img\", {\n          ref: onScreenClick,\n          className: \"object-contain rounded-xl  w-24 m-3 shadow cursor-pointer\",\n          onClick: () => setIsImageDisplayed(comment.attachment),\n          src: comment.attachment,\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 44\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex  justify-between items-center mt-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          dir: \"ltr\",\n          className: \"text-sm font-semibold\",\n          children: [\"@\", checkUserName(comment.uid)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mx-2 text-sm\",\n            children: dateToString(comment.createdAt.split('T')[0])\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this)]\n    }, index, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this));\n  };\n\n  const dateToString = date => {\n    const [year, month, day] = date.split('-');\n    console.log(year, month, day);\n    return `${day}/${month}/${year}`;\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-h-md px-5 scrollbar scrollbar-thin scrollbar-thumb-rounded-full scrollbar-track-rounded-full scrollbar-track-gray-200 scrollbar-thumb-gray-400 dark:scrollbar-track-gray-100 dark:scrollbar-thumb-gray-500 pl-5 overflow-y-auto rounded-xl\",\n    children: [renderReplies(comments), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: elementRef\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Comments, \"IVv9TYCIUsk1ly5LskXOUWQ/kGI=\");\n\n_c = Comments;\nexport default Comments;\n\nvar _c;\n\n$RefreshReg$(_c, \"Comments\");","map":{"version":3,"sources":["C:/Users/avikef/Desktop/New folder (12)/tauoverflow-client/src/components/discussions/Comments.js"],"names":["ThumbUpIcon","useEffect","useRef","useState","getAllUsers","CSSTransition","Container","Alert","ReactTooltip","Comments","isImageDisplayed","setIsImageDisplayed","comments","onScreenClick","elementRef","users","setUsers","response","data","allUsers","nodes","error","console","log","current","scrollIntoView","behavior","block","inline","checkUserName","id","a_user","forEach","user","firstname","lastname","renderReplies","length","map","comment","index","body","attachment","uid","dateToString","createdAt","split","date","year","month","day"],"mappings":"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","sourcesContent":["import { ThumbUpIcon } from '@heroicons/react/outline'\r\nimport { useEffect, useRef, useState } from \"react\";\r\nimport { getAllUsers } from '../../API/usersApi';\r\nimport { CSSTransition } from 'react-transition-group';\r\nimport { Container, Alert } from 'react-bootstrap';\r\nimport ReactTooltip from 'react-tooltip';\r\n\r\n\r\nconst Comments = ({ isImageDisplayed, setIsImageDisplayed, comments, onScreenClick }) => {\r\n\r\n    const elementRef = useRef(null);\r\n    const [users, setUsers] = useState([]);\r\n\r\n    useEffect(() => {\r\n        (async () => {\r\n            try {\r\n                const response = await getAllUsers();\r\n                setUsers(response.data.data.allUsers.nodes);\r\n            }\r\n            catch (error) {\r\n                console.log(error);\r\n            }\r\n        })();\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        elementRef.current.scrollIntoView({ behavior: \"smooth\", block: \"nearest\", inline: \"start\" })\r\n    }, [comments]);\r\n\r\n    const checkUserName = (id) => {\r\n        let a_user;\r\n        users.forEach(user => { if (user.id === id) a_user = user });\r\n        return `${a_user.firstname}_${a_user.lastname}`\r\n    }\r\n\r\n    const renderReplies = (comments) => {\r\n        if (comments.length === 0)\r\n            return (\r\n                <div className=\"shadow-md bg-gray-50 dark:bg-gray-700 mx-1 px-3 py-2 rounded-xl my-3\">\r\n                    <h1 className=\"h-12 flex flex-col items-center justify-center\">אין תגובות עדיין. אולי תשקול להיות הראשון?</h1>\r\n\r\n                </div>)\r\n        return comments.map((comment, index) =>\r\n            <div key={index} className=\"flex flex-col justify-center shadow bg-gray-50 dark:bg-gray-700 mx-1 px-3 py-2 rounded-xl my-3\">\r\n\r\n                <div className='flex justify-between'>\r\n                    <p className=\"mb-4 break-words\">{comment.body}</p>\r\n                    {comment.attachment && <img ref={onScreenClick} className='object-contain rounded-xl  w-24 m-3 shadow cursor-pointer' onClick={() => setIsImageDisplayed(comment.attachment)} src={comment.attachment} alt='' />}\r\n                </div>\r\n                <div className=\"flex  justify-between items-center mt-2\">\r\n                    {/* <p dir=\"ltr\" className=\"font-semibold\">@{comment.user.name.replaceAll(\" \", \"_\")}</p> */}\r\n                    <p dir=\"ltr\" className=\"text-sm font-semibold\">@{checkUserName(comment.uid)}</p>\r\n                    <div className=\"flex items-center\">\r\n                        {/* <div className=\"flex mx-3 justify-between items-center\">\r\n                            <ThumbUpIcon className=\"h-5 w-5\" />\r\n                            <p className=\" text-md\">{4}</p>\r\n                        </div> */}\r\n                        <p className=\"mx-2 text-sm\">{dateToString(comment.createdAt.split('T')[0])}</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const dateToString = (date) => {\r\n        const [year, month, day] = date.split('-');\r\n        console.log(year, month, day)\r\n        return `${day}/${month}/${year}`\r\n    }\r\n\r\n    return (\r\n        <div className=\"max-h-md px-5 scrollbar scrollbar-thin scrollbar-thumb-rounded-full scrollbar-track-rounded-full scrollbar-track-gray-200 scrollbar-thumb-gray-400 dark:scrollbar-track-gray-100 dark:scrollbar-thumb-gray-500 pl-5 overflow-y-auto rounded-xl\">\r\n            {renderReplies(comments)}\r\n            <div ref={elementRef} />\r\n        </div>\r\n    )\r\n}\r\nexport default Comments"]},"metadata":{},"sourceType":"module"}