{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\avikef\\\\Desktop\\\\New folder (10)\\\\src\\\\components\\\\exam-filter\\\\ExamFilter.js\",\n    _s = $RefreshSig$();\n\nimport H2 from \"../../general-components/H2\";\nimport Button from \"../../general-components/Button\";\nimport GroupedDDLs from \"../grouped-ddls/GroupedDDLs\";\nimport { useState } from \"react\";\nimport ExamsList from \"../../components/exams-list/ExamsList\";\nimport { getAllTests } from '../../API/testApi';\nimport { useParams } from \"react-router\";\nimport { ArrowCircleUpIcon } from '@heroicons/react/solid';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ExamFilter = () => {\n  _s();\n\n  const IDs = useParams();\n  const [year, setYear] = useState(null);\n  const [semester, setSemester] = useState(null);\n  const [due, setDue] = useState(null);\n  const [exams, setExams] = useState([]);\n  const [viewExams, setViewExams] = useState(false);\n\n  const hideFilteredExams = () => {\n    setViewExams(false);\n  };\n\n  const filterExams = async () => {\n    if (year && year != -1 || semester && semester != -1 || due && due != -1) {\n      try {\n        var _response$data, _response$data$data;\n\n        setViewExams(true);\n        const response = await getAllTests();\n        let filteredExams = response === null || response === void 0 ? void 0 : (_response$data = response.data) === null || _response$data === void 0 ? void 0 : (_response$data$data = _response$data.data) === null || _response$data$data === void 0 ? void 0 : _response$data$data.allTests.nodes.filter(exam => exam.cid.trim() === IDs.courseID);\n\n        if (year && year != -1) {\n          filteredExams = filteredExams.filter(exam => exam.year === parseInt(year));\n        }\n\n        if (semester && semester != -1) {\n          filteredExams = filteredExams.filter(exam => exam.semester.trim() === semester);\n        }\n\n        if (due && due != -1) {\n          filteredExams = filteredExams.filter(exam => exam.period.trim() === due);\n        }\n\n        setExams(filteredExams);\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-blue-50 dark:bg-gray-900 flex flex-col dark:bg-opacity-20 py-3 px-5 rounded-xl w-3/4 shadow \",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center mb-6 \",\n      children: /*#__PURE__*/_jsxDEV(H2, {\n        text: 'סינון מבחנים'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(GroupedDDLs, {\n      enableNulls: true,\n      year: year,\n      setYear: setYear,\n      semester: semester,\n      setSemester: setSemester,\n      due: due,\n      setDue: setDue\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex my-2 w-full justify-center\",\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        text: 'סינון',\n        clickHandler: filterExams\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this), viewExams && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-blue-100 w-full rounded-xl pt-4 shadow mt-4 \",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3 flex justify-center items-center\",\n        children: /*#__PURE__*/_jsxDEV(H2, {\n          text: exams.length == 0 ? 'לא נמצאו מבחנים' : 'רשימת המבחנים שנמצאו'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-start overflow-x-auto pb-2 scrollbar scrollbar-thumb-rounded-full scrollbar-track-rounded-full scrollbar-track-gray-200 scrollbar-thumb-gray-400 dark:scrollbar-track-gray-800 dark:scrollbar-thumb-gray-600\",\n        children: viewExams && /*#__PURE__*/_jsxDEV(ExamsList, {\n          exams: exams\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 35\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex pt-4 items-center justify-center\",\n        children: viewExams && exams.length != 0 && /*#__PURE__*/_jsxDEV(ArrowCircleUpIcon, {\n          className: \"h-10 w-10 transform text-indigo-600 cursor-pointer\",\n          onClick: hideFilteredExams\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 56\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 27\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 9\n  }, this);\n};\n\n_s(ExamFilter, \"RI2AEJaxeoZKLf78xvduckUC9t8=\", false, function () {\n  return [useParams];\n});\n\n_c = ExamFilter;\nexport default ExamFilter;\n\nvar _c;\n\n$RefreshReg$(_c, \"ExamFilter\");","map":{"version":3,"sources":["C:/Users/avikef/Desktop/New folder (10)/src/components/exam-filter/ExamFilter.js"],"names":["H2","Button","GroupedDDLs","useState","ExamsList","getAllTests","useParams","ArrowCircleUpIcon","ExamFilter","IDs","year","setYear","semester","setSemester","due","setDue","exams","setExams","viewExams","setViewExams","hideFilteredExams","filterExams","response","filteredExams","data","allTests","nodes","filter","exam","cid","trim","courseID","parseInt","period","error","console","log","length"],"mappings":";;;AAAA,OAAOA,EAAP,MAAe,6BAAf;AACA,OAAOC,MAAP,MAAmB,iCAAnB;AACA,OAAOC,WAAP,MAAwB,6BAAxB;AACA,SAASC,QAAT,QAAyB,OAAzB;AACA,OAAOC,SAAP,MAAsB,uCAAtB;AACA,SAASC,WAAT,QAA4B,mBAA5B;AACA,SAASC,SAAT,QAA0B,cAA1B;AACA,SAASC,iBAAT,QAAkC,wBAAlC;;;AAEA,MAAMC,UAAU,GAAG,MAAM;AAAA;;AAErB,QAAMC,GAAG,GAAGH,SAAS,EAArB;AACA,QAAM,CAACI,IAAD,EAAOC,OAAP,IAAkBR,QAAQ,CAAC,IAAD,CAAhC;AACA,QAAM,CAACS,QAAD,EAAWC,WAAX,IAA0BV,QAAQ,CAAC,IAAD,CAAxC;AACA,QAAM,CAACW,GAAD,EAAMC,MAAN,IAAgBZ,QAAQ,CAAC,IAAD,CAA9B;AACA,QAAM,CAACa,KAAD,EAAQC,QAAR,IAAoBd,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACe,SAAD,EAAYC,YAAZ,IAA4BhB,QAAQ,CAAC,KAAD,CAA1C;;AAEA,QAAMiB,iBAAiB,GAAG,MAAM;AAC5BD,IAAAA,YAAY,CAAC,KAAD,CAAZ;AACH,GAFD;;AAGA,QAAME,WAAW,GAAG,YAAY;AAC5B,QAAKX,IAAI,IAAIA,IAAI,IAAI,CAAC,CAAlB,IAAyBE,QAAQ,IAAIA,QAAQ,IAAI,CAAC,CAAlD,IAAyDE,GAAG,IAAIA,GAAG,IAAI,CAAC,CAA5E,EAAgF;AAC5E,UAAI;AAAA;;AACAK,QAAAA,YAAY,CAAC,IAAD,CAAZ;AACA,cAAMG,QAAQ,GAAG,MAAMjB,WAAW,EAAlC;AACA,YAAIkB,aAAa,GAAGD,QAAH,aAAGA,QAAH,yCAAGA,QAAQ,CAAEE,IAAb,0EAAG,eAAgBA,IAAnB,wDAAG,oBAAsBC,QAAtB,CAA+BC,KAA/B,CAAqCC,MAArC,CAA4CC,IAAI,IAAIA,IAAI,CAACC,GAAL,CAASC,IAAT,OAAoBrB,GAAG,CAACsB,QAA5E,CAApB;;AACA,YAAIrB,IAAI,IAAIA,IAAI,IAAI,CAAC,CAArB,EAAwB;AACpBa,UAAAA,aAAa,GAAGA,aAAa,CAACI,MAAd,CAAqBC,IAAI,IAAIA,IAAI,CAAClB,IAAL,KAAcsB,QAAQ,CAACtB,IAAD,CAAnD,CAAhB;AACH;;AACD,YAAIE,QAAQ,IAAIA,QAAQ,IAAI,CAAC,CAA7B,EAAgC;AAC5BW,UAAAA,aAAa,GAAGA,aAAa,CAACI,MAAd,CAAqBC,IAAI,IAAIA,IAAI,CAAChB,QAAL,CAAckB,IAAd,OAAyBlB,QAAtD,CAAhB;AACH;;AACD,YAAIE,GAAG,IAAIA,GAAG,IAAI,CAAC,CAAnB,EAAsB;AAClBS,UAAAA,aAAa,GAAGA,aAAa,CAACI,MAAd,CAAqBC,IAAI,IAAIA,IAAI,CAACK,MAAL,CAAYH,IAAZ,OAAuBhB,GAApD,CAAhB;AACH;;AACDG,QAAAA,QAAQ,CAACM,aAAD,CAAR;AACH,OAdD,CAeA,OAAOW,KAAP,EAAc;AACVC,QAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACH;AACJ;AACJ,GArBD;;AAuBA,sBACI;AAAK,IAAA,SAAS,EAAC,iGAAf;AAAA,4BACI;AAAK,MAAA,SAAS,EAAC,mBAAf;AAAA,6BACI,QAAC,EAAD;AAAI,QAAA,IAAI,EAAE;AAAV;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YADJ,eAII,QAAC,WAAD;AAAa,MAAA,WAAW,EAAE,IAA1B;AAAgC,MAAA,IAAI,EAAExB,IAAtC;AAA4C,MAAA,OAAO,EAAEC,OAArD;AAA8D,MAAA,QAAQ,EAAEC,QAAxE;AAAkF,MAAA,WAAW,EAAEC,WAA/F;AAA4G,MAAA,GAAG,EAAEC,GAAjH;AAAsH,MAAA,MAAM,EAAEC;AAA9H;AAAA;AAAA;AAAA;AAAA,YAJJ,eAKI;AAAK,MAAA,SAAS,EAAC,iCAAf;AAAA,6BACI,QAAC,MAAD;AAAQ,QAAA,IAAI,EAAE,OAAd;AAAuB,QAAA,YAAY,EAAEM;AAArC;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YALJ,EAQKH,SAAS,iBAAI;AAAK,MAAA,SAAS,EAAC,iDAAf;AAAA,8BACV;AAAK,QAAA,SAAS,EAAC,uCAAf;AAAA,+BACI,QAAC,EAAD;AAAI,UAAA,IAAI,EAAEF,KAAK,CAACqB,MAAN,IAAgB,CAAhB,GAAoB,iBAApB,GAAwC;AAAlD;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cADU,eAIV;AAAK,QAAA,SAAS,EAAC,2NAAf;AAAA,kBACKnB,SAAS,iBAAI,QAAC,SAAD;AAAW,UAAA,KAAK,EAAEF;AAAlB;AAAA;AAAA;AAAA;AAAA;AADlB;AAAA;AAAA;AAAA;AAAA,cAJU,eAOV;AAAK,QAAA,SAAS,EAAC,uCAAf;AAAA,kBACKE,SAAS,IAAIF,KAAK,CAACqB,MAAN,IAAgB,CAA7B,iBAAkC,QAAC,iBAAD;AAAmB,UAAA,SAAS,EAAC,oDAA7B;AAAkF,UAAA,OAAO,EAAEjB;AAA3F;AAAA;AAAA;AAAA;AAAA;AADvC;AAAA;AAAA;AAAA;AAAA,cAPU;AAAA;AAAA;AAAA;AAAA;AAAA,YARlB;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAsBH,CAzDD;;GAAMZ,U;UAEUF,S;;;KAFVE,U;AA0DN,eAAeA,UAAf","sourcesContent":["import H2 from \"../../general-components/H2\"\nimport Button from \"../../general-components/Button\"\nimport GroupedDDLs from \"../grouped-ddls/GroupedDDLs\";\nimport { useState } from \"react\";\nimport ExamsList from \"../../components/exams-list/ExamsList\";\nimport { getAllTests } from '../../API/testApi';\nimport { useParams } from \"react-router\";\nimport { ArrowCircleUpIcon } from '@heroicons/react/solid'\n\nconst ExamFilter = () => {\n\n    const IDs = useParams();\n    const [year, setYear] = useState(null);\n    const [semester, setSemester] = useState(null);\n    const [due, setDue] = useState(null);\n    const [exams, setExams] = useState([]);\n    const [viewExams, setViewExams] = useState(false);\n\n    const hideFilteredExams = () => {\n        setViewExams(false);\n    }\n    const filterExams = async () => {\n        if ((year && year != -1) || (semester && semester != -1) || (due && due != -1)) {\n            try {\n                setViewExams(true);\n                const response = await getAllTests();\n                let filteredExams = response?.data?.data?.allTests.nodes.filter(exam => exam.cid.trim() === IDs.courseID);\n                if (year && year != -1) {\n                    filteredExams = filteredExams.filter(exam => exam.year === parseInt(year));\n                }\n                if (semester && semester != -1) {\n                    filteredExams = filteredExams.filter(exam => exam.semester.trim() === semester);\n                }\n                if (due && due != -1) {\n                    filteredExams = filteredExams.filter(exam => exam.period.trim() === due);\n                }\n                setExams(filteredExams);\n            }\n            catch (error) {\n                console.log(error);\n            }\n        }\n    }\n\n    return (\n        <div className=\"bg-blue-50 dark:bg-gray-900 flex flex-col dark:bg-opacity-20 py-3 px-5 rounded-xl w-3/4 shadow \">\n            <div className=\"text-center mb-6 \">\n                <H2 text={'סינון מבחנים'} />\n            </div>\n            <GroupedDDLs enableNulls={true} year={year} setYear={setYear} semester={semester} setSemester={setSemester} due={due} setDue={setDue} />\n            <div className=\"flex my-2 w-full justify-center\">\n                <Button text={'סינון'} clickHandler={filterExams} />\n            </div>\n            {viewExams && <div className=\"bg-blue-100 w-full rounded-xl pt-4 shadow mt-4 \">\n                <div className=\"mb-3 flex justify-center items-center\">\n                    <H2 text={exams.length == 0 ? 'לא נמצאו מבחנים' : 'רשימת המבחנים שנמצאו'} />\n                </div>\n                <div className=\"flex justify-start overflow-x-auto pb-2 scrollbar scrollbar-thumb-rounded-full scrollbar-track-rounded-full scrollbar-track-gray-200 scrollbar-thumb-gray-400 dark:scrollbar-track-gray-800 dark:scrollbar-thumb-gray-600\">\n                    {viewExams && <ExamsList exams={exams} />}\n                </div>\n                <div className=\"flex pt-4 items-center justify-center\">\n                    {viewExams && exams.length != 0 && <ArrowCircleUpIcon className=\"h-10 w-10 transform text-indigo-600 cursor-pointer\" onClick={hideFilteredExams} />}\n                </div>\n            </div>}\n        </div>\n    )\n}\nexport default ExamFilter"]},"metadata":{},"sourceType":"module"}